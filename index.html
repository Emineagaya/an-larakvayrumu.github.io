<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnÄ±lar Akvaryumu â¤ï¸</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<audio id="bg-music" loop>
    <source src="image/music.mp3" type="audio/mpeg">
</audio>

<div id="phone-wrapper" onclick="handleWrapperClick(event)">
    <div id="line"></div>
    <img src="image/hook.png" id="hook">

    <div id="music-control" onclick="toggleMusic(event)" style="position: absolute; top: 20px; right: 20px; font-size: 24px; cursor: pointer; z-index: 1000; background: rgba(255,255,255,0.3); border-radius: 50%; padding: 5px; display: none;">ğŸ”Š</div>

    <div id="start-screen" class="overlay">
        <p>Sana gerÃ§ek bir akvaryum almak isterdim ama mesafeler buna izin vermedi... <br>
        Bende sana iÃ§ine anÄ±larÄ±mÄ±zÄ± sakladÄ±ÄŸÄ±m <b>dijital bir akvaryum</b> yaptÄ±m. â¤ï¸ <br><br>
        Hadi, tÃ¼m kalpleri yakala ve Ã¶dÃ¼lÃ¼nÃ¼ al! ğŸ</p>
        <button class="pink-btn" onclick="startGame(event)">Oynamaya BaÅŸla â¤ï¸</button>
    </div>

    <div id="photo-display">
        <img src="" id="target-img">
        <p id="romantic-note"></p>
        <button class="pink-btn" onclick="closePhoto(event)">Oynamaya Devam Et â¤ï¸</button>
    </div>

    <div id="final-screen" class="overlay hidden">
        <canvas id="fireworksCanvas"></canvas> 
        <div class="cake-container">
            <div class="cake-wrapper">
                <div class="candles-on-top">
                    <div class="candle"><div class="flame"></div><div class="candle-stick"></div></div>
                    <div class="candle"><div class="flame"></div><div class="candle-stick"></div></div>
                    <div class="candle"><div class="flame"></div><div class="candle-stick"></div></div>
                </div>
                <div class="cake-emoji">ğŸ‚</div>
            </div>
        </div>

        <div class="final-message">
            <p>YÃ¼zlerce anÄ±, anlatmak istediÄŸim onlarca hikaye olsa da bugÃ¼nlÃ¼k sadece bazÄ±larÄ±nÄ± seÃ§ebildim... Ama her ÅŸeye raÄŸmen iyi ki yan yanayÄ±z ve bundan sonra da bir Ã¶mÃ¼r el ele devam ederiz inÅŸallah bitanem. Åimdiye kadarki en gÃ¼zel yaÅŸÄ±n olmasÄ± dileÄŸiyle; seni dÃ¼nyalar kadar Ã§ok seviyorum. Ä°yi ki doÄŸdun!</p>
            <span class="heart-icon">â¤ï¸</span>
        </div>
        <button class="pink-btn" onclick="location.reload()">BaÅŸa DÃ¶n</button>
    </div>

<script>
    const memories = [
        {src: "image/image1.jpeg", note: "Ä°lk fotoÄŸrafÄ±mÄ±z, ilk heyecanÄ±mÄ±z... Kim bilebilirdi ki bu hikayenin buralara geleceÄŸini. Kalbimin ilk ve son duraÄŸÄ± olduÄŸun iÃ§in teÅŸekkÃ¼r ederim sevgilim. â¤ï¸âœ¨"},
        {src: "image/image2.jpeg", note: "Cumhuriyetimizin 100. yÄ±lÄ±, bizim ise ilk 29 Ekimimiz... Ä°lk konserimiz... Bundan sonraki tÃ¼m 29 Ekimlerde daha da gÃ¼zel anÄ±lar bÄ±rakmak dileÄŸiyle. Seninle her kutlama bir bayram tadÄ±nda, iyi ki varsÄ±n. ğŸ¥°"},
        {src: "image/image3.jpeg", note: "Hani bana bazen Ã¶yle bir bakÄ±yorsun ya... Ä°ÅŸte o zaman kalbim Ã¶yle tatlÄ± hissediyor ki . Beni ne kadar Ã§ok sevdiÄŸini sadece o bakÄ±ÅŸÄ±ndan anlayabiliyorum. DÃ¼nyadaki en gÃ¼venli yer sanki senin o bakÄ±ÅŸlarÄ±n, seni Ã§ok seviyorum. ğŸ˜ğŸ’–"},
        {src: "image/image4.jpeg", note: "Beraberken ne gÃ¼zel baÅŸarÄ±lara imza attÄ±k. Bu zaferleri ve 'biz' olmanÄ±n gÃ¼cÃ¼nÃ¼ gelecekte Ã§ocuklarÄ±mÄ±za gururla anlatacaÄŸÄ±z. Sen benim hayatÄ±mdaki en tatlÄ± iyikimsin. ğŸ§¿ğŸŒŸ"},
        {src: "image/image5.jpeg", note: "Tarihi yolculuklara Ã§Ä±kÄ±p beraber Kanuni ve HÃ¼rrem de olduk! OsmanlÄ±ya olamadÄ±k belki ama kalbinin SultanÄ± olmak bana yetti. Her ÅŸey seninle gÃ¼zel sevgilim. ğŸ‘‘ğŸ§¡"},
        {src: "image/image6.jpeg", note: "Cumhuriyet alayÄ±na da katÄ±ldÄ±k, 101. yÄ±lÄ±na da el ele girdik. Bir Ã¶mÃ¼r boyu bÃ¶yle el ele, nicelerine... ğŸ¤ğŸ”¥"},
        {src: "image/image7.jpeg", note: "Bana yaptÄ±ÄŸÄ±n o sÃ¼rprizi hala unutamÄ±yorum... O merdivenleri Ã§Ä±karkenki heyecanÄ±m, kalbimin atÄ±ÅŸÄ± hala capcanlÄ±. Bana her gÃ¼n yeni bir heyecan kattÄ±ÄŸÄ±n iÃ§in iyi ki sen. ğŸâœ¨"},
        {src: "image/image8.jpeg", note: "Galataâ€™ya da gittik seninle... Evet, tepesine Ã§Ä±kamadÄ±k ama o meÅŸhur rivayete inat biz baÅŸaracaÄŸÄ±z, ben bize sonuna kadar inanÄ±yorum.ğŸ—¼ğŸ’œ"},
        {src: "image/image9.jpeg", note: "Bu fotoÄŸrafÄ± Ã§ok seviyorum, eklemeden duramadÄ±m. Hem Ä°stanbul'a gelmiÅŸken simit yemeden olur muydu? En basit anlarÄ± bile bir masala Ã§eviren senin varlÄ±ÄŸÄ±n, seni Ã§ok seviyorum. ğŸ¥¯ğŸŒŠâ¤ï¸"},
        {src: "image/image10.jpeg", note: "O meÅŸhur patlÄ±canlÄ± bÃ¶reÄŸi yiyemesek de Adalar'Ä± seninle gezmek Ã§ok gÃ¼zeldi. Ama unutmadÄ±m o bÃ¶reÄŸi yiyeceÄŸiz beyefendi... ğŸš²ğŸ’™"},
        {src: "image/image11.jpeg", note: "Beraber kÃ¼Ã§Ã¼k bir kaza da yaptÄ±k ama gÃ¼nÃ¼n sonunda gÃ¼lÃ¼p 'olsun' demeyi de baÅŸardÄ±k. Her anlamda unutulmaz bir maceraydÄ±. BaÅŸÄ±mÄ±za ne gelirse gelsin, seninle her ÅŸeye 'olsun' diyebilirim. ğŸï¸â„ï¸"},
        {src: "image/image12.jpeg", note: "Mezuniyetimiz... BazÄ± ÅŸeylerin bitiÅŸi ama asÄ±l bÃ¼yÃ¼k hikayemizin baÅŸlangÄ±cÄ±. DiplomamÄ±zÄ± beraber aldÄ±k, ÅŸimdi sÄ±ra seninle yaÅŸanacak tÃ¼m o gÃ¼zel yÄ±llarda. Ã–mrÃ¼mÃ¼n geri kalanÄ±na eÅŸlik edecek en gÃ¼zel ÅŸey sensin. ğŸ“ğŸ“œğŸ‘©â€â¤ï¸â€ğŸ‘¨"}
    ];

    let gameStarted = false;
    let isMoving = false;

    function startGame(e) {
        e.stopPropagation();
        const music = document.getElementById('bg-music');
        music.play().catch(error => console.log("MÃ¼zik iÃ§in etkileÅŸim bekleniyor."));

        document.getElementById('music-control').style.display = 'block';
        document.getElementById('start-screen').classList.add('hidden');
        spawnHeartsGrid();
        gameStarted = true;
    }

    function spawnHeartsGrid() {
        const wrapper = document.getElementById('phone-wrapper');
        const positions = [];
        for(let r=0; r<4; r++) {
            for(let c=0; c<3; c++) {
                positions.push({ x: 10 + (c * 30), y: 35 + (r * 13) });
            }
        }
        positions.sort(() => Math.random() - 0.5);

        for (let i = 0; i < 12; i++) {
            const h = document.createElement('img');
            h.src = `image/heart${i+1}.png`; 
            h.className = 'heart';
            h.setAttribute('data-id', i); 
            const pos = positions[i];
            h.style.left = pos.x + '%';
            h.style.top = pos.y + '%';
            h.style.pointerEvents = 'none';
            wrapper.appendChild(h);
        }
    }

    function handleWrapperClick(e) {
        if (!gameStarted || isMoving || document.getElementById('photo-display').style.display === 'flex') return;

        const wrapper = document.getElementById('phone-wrapper');
        const rect = wrapper.getBoundingClientRect();
        const clickX = ((e.clientX - rect.left) / rect.width) * 100;
        const clickY = ((e.clientY - rect.top) / rect.height) * 100;

        const hook = document.getElementById('hook');
        const line = document.getElementById('line');

        isMoving = true;
        line.style.left = clickX + '%';
        line.style.height = clickY + '%';
        hook.style.left = clickX + '%';
        hook.style.top = (clickY - 2) + '%';

        setTimeout(() => {
            checkCollision(clickX, clickY);
        }, 800);
    }

    function checkCollision(x, y) {
        const hearts = Array.from(document.querySelectorAll('.heart')).filter(h => h.style.display !== 'none');
        let caughtHeart = null;
        let minDistance = 999;

        hearts.forEach(h => {
            const hX = parseFloat(h.style.left);
            const hY = parseFloat(h.style.top);
            const dist = Math.sqrt(Math.pow(x - hX, 2) + Math.pow(y - hY, 2));
            
            if (dist < 15 && dist < minDistance) { 
                minDistance = dist;
                caughtHeart = h;
            }
        });

        if (caughtHeart) {
            const memoryIndex = caughtHeart.getAttribute('data-id');
            caughtHeart.style.display = 'none';
            document.getElementById('target-img').src = memories[memoryIndex].src;
            document.getElementById('romantic-note').innerText = memories[memoryIndex].note;
            document.getElementById('photo-display').style.display = 'flex';
            isMoving = false;
        } else {
            setTimeout(() => {
                resetHook();
                isMoving = false;
            }, 300);
        }
    }

    function resetHook() {
        const hook = document.getElementById('hook');
        const line = document.getElementById('line');
        hook.style.top = '0px';
        line.style.height = '0';
        line.style.left = '50%';
        hook.style.left = '50%';
    }

    function closePhoto(e) {
        e.stopPropagation();
        document.getElementById('photo-display').style.display = 'none';
        resetHook();
        
        const remainingHearts = document.querySelectorAll('.heart:not([style*="display: none"])');
        if (remainingHearts.length === 0) {
            document.getElementById('final-screen').classList.remove('hidden');
        }
    }

    function toggleMusic(e) {
        e.stopPropagation();
        const music = document.getElementById('bg-music');
        const icon = document.getElementById('music-control');
        if (music.paused) {
            music.play();
            icon.innerText = "ğŸ”Š";
        } else {
            music.pause();
            icon.innerText = "ğŸ”‡";
        }
    }

    const fireworksCanvas = document.getElementById('fireworksCanvas');
    const ctx = fireworksCanvas.getContext('2d');
    let particles = [];
    const colors = ['#FF4136', '#FF851B', '#FFDC00', '#FFD700', '#2ECC40', '#0074D9', '#B10DC9', '#F012BE'];

    function resizeCanvas() {
        fireworksCanvas.width = window.innerWidth;
        fireworksCanvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas(); 

    function createParticle(x, y, color) {
        this.x = x; this.y = y; this.color = color;
        this.velocity = { x: Math.random() * 6 - 3, y: Math.random() * 6 - 3 };
        this.alpha = 1; this.gravity = 0.05; this.friction = 0.99;
    }

    createParticle.prototype.draw = function() {
        ctx.save(); ctx.globalAlpha = this.alpha; ctx.beginPath();
        ctx.arc(this.x, this.y, 2, 0, Math.PI * 2, false);
        ctx.fillStyle = this.color; ctx.fill(); ctx.restore();
    };

    createParticle.prototype.update = function() {
        this.velocity.x *= this.friction; this.velocity.y *= this.friction;
        this.velocity.y += this.gravity; this.x += this.velocity.x; this.y += this.velocity.y;
        this.alpha -= 0.01; if (this.alpha <= 0) this.alpha = 0;
        this.draw();
    };

    function animateFireworks() {
        requestAnimationFrame(animateFireworks);
        ctx.clearRect(0, 0, fireworksCanvas.width, fireworksCanvas.height);
        particles.forEach((p, i) => { if (p.alpha > 0) p.update(); else particles.splice(i, 1); });
    }

    function createExplosion(x, y) {
        const color = colors[Math.floor(Math.random() * colors.length)];
        for (let i = 0; i < 50; i++) particles.push(new createParticle(x, y, color));
    }

    let fireworksInterval = null; 
    const finalScreen = document.getElementById('final-screen');
    const observer = new MutationObserver(mutations => {
        mutations.forEach(m => {
            if (m.attributeName === 'class' && !finalScreen.classList.contains('hidden')) {
                if (!fireworksInterval) {
                    fireworksInterval = setInterval(() => {
                        createExplosion(Math.random() * fireworksCanvas.width, Math.random() * (fireworksCanvas.height * 0.7));
                    }, 500);
                    animateFireworks();
                }
            }
        });
    });
    observer.observe(finalScreen, { attributes: true });
</script>
</body>
</html>






